var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function o(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(o.prototype=i.prototype,new o)}}();!function(){function t(e,i,o){function n(a,s){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(r)return r(a,!0);var p=new Error("Cannot find module '"+a+"'");throw p.code="MODULE_NOT_FOUND",p}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return n(i||t)},c,c.exports,t,e,i,o)}return i[a].exports}for(var r="function"==typeof require&&require,a=0;a<o.length;a++)n(o[a]);return n}return t}()({1:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("./view/ExportBox"),n=function(){function t(){}return t.init=function(){var t=Laya.ClassUtils.regClass;t("view/ExportBox.ts",o["default"])},t.width=1334,t.height=750,t.scaleMode="fixedwidth",t.screenMode="horizontal",t.alignV="top",t.alignH="left",t.startScene="View/Export.scene",t.sceneRoot="",t.debug=!1,t.stat=!1,t.physicsDebug=!1,t.exportSceneToJson=!0,t}();i["default"]=n,n.init()},{"./view/ExportBox":5}],2:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("./GameConfig"),n=t("./OpenMgr"),r=function(){function t(){Laya.isWXOpenDataContext=!0,Laya.isWXPosMsg=!0,Laya.init(o["default"].width,o["default"].height,!1),Laya.stage.scaleMode=o["default"].scaleMode,Laya.stage.screenMode=o["default"].screenMode,Laya.stage.alignV=o["default"].alignV,Laya.stage.alignH=o["default"].alignH,Laya.Browser.onMiniGame?(console.log("开放域步骤1"),this.onComplete()):Laya.loader.load("openRes/Rank.atlas",Laya.Handler.create(this,this.onComplete))}return t.prototype.onComplete=function(){console.log("开放域步骤3"),n["default"].Instance.init()},t}();new r},{"./GameConfig":1,"./OpenMgr":3}],3:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("./view/ExportView"),n=function(){function t(){}return Object.defineProperty(t,"Instance",{get:function(){return t._openMgr},enumerable:!0,configurable:!0}),t.prototype.init=function(){wx.onMessage(this.onMessage.bind(this)),console.log("开放域注册主域消息响应函数完毕")},t.prototype.onMessage=function(t){switch(console.log("开放域收到消息 : ",t),t.cmd){case"OpenExport":this.openFriendRankView(t.data);break;case"CloseExport":this.closeExportView()}},t.prototype.closeExportView=function(){this._exportView.visible=!1},t.prototype.openFriendRankView=function(t){null==this._exportView?(this._exportView=new o["default"],this._exportView.init(t.width,t.height)):(this._exportView.InitSize(t.width,t.height),this._exportView.getFriendList())},t._openMgr=new t,t}();i["default"]=n},{"./view/ExportView":6}],4:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o,n=Laya.ClassUtils.regClass;!function(t){var e;!function(t){var e=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createChildren=function(){t.prototype.createChildren.call(this),this.createView(e.uiView)},e.uiView={type:"View",props:{width:1334,top:0,right:0,left:0,height:750,bottom:0},compId:2,child:[{type:"Box",props:{width:1e3,"var":"_CenterZone",name:"CenterZone",height:150,centerX:0,bottom:225},compId:39,child:[{type:"List",props:{"var":"_list",top:0,spaceY:260,spaceX:40,right:0,repeatY:1,repeatX:5,name:"List",left:0,bottom:0},compId:40,child:[{type:"Box",props:{y:0,x:50,width:150,renderType:"render",height:150},compId:41,child:[{type:"Sprite",props:{y:0,x:35,width:80,name:"Icon",height:80},compId:42,child:[{type:"Sprite",props:{width:60,top:0,renderType:"mask",left:0,height:60},compId:43,child:[{type:"Circle",props:{y:30,x:30,radius:30,lineWidth:0,fillColor:"#000000"},compId:44}]}]},{type:"Text",props:{y:75,x:7,width:135,valign:"middle",text:"是大大散打是大大散打是大大散打是大大散打",strokeColor:"#000000",stroke:3,overflow:"hidden",name:"NickName",height:40,fontSize:18,font:"Microsoft YaHei",color:"#ffffff",bold:!0,align:"left",runtime:"laya.display.Text"},compId:45},{type:"Text",props:{y:115,x:44.5,width:60,valign:"middle",text:"正在玩",height:40,fontSize:25,font:"Microsoft YaHei",color:"#00ff14",bold:!0,align:"center",runtime:"laya.display.Text"},compId:46},{type:"Script",props:{runtime:"view/ExportBox.ts"},compId:47}]}]}]}],loadList:[],loadList3D:[]},e}(Laya.View);t.ExportUI=e,n("ui.View.ExportUI",e)}(e=t.View||(t.View={}))}(o=i.ui||(i.ui={}))},{}],5:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onAwake=function(){this._iconSp=this.owner.getChildByName("Icon"),this._nickNameText=this.owner.getChildByName("NickName")},e.prototype.setData=function(t){console.log("设置好友数据："+t.nickname),this._nickNameText.text=t.nickname,this._iconSp.loadImage(t.avatarUrl)},e}(Laya.Script);i["default"]=o},{}],6:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var o=t("../ui/layaMaxUI"),n=t("./ExportBox"),r=function(t){function e(){var e=t.call(this)||this;return e.arr=[],e}return __extends(e,t),e.prototype.init=function(t,e){Laya.stage.addChild(this),this.InitSize(t,e),this._list.renderHandler=Laya.Handler.create(this,this.onListRender,null,!1),this._list.hScrollBarSkin="",this.setlist(this.arr),Laya.Browser.onMiniGame&&this.getFriendList()},e.prototype.InitSize=function(t,e){this.width=t,this.height=e;var i=e/750;console.log("Laya.stage.width"+Laya.stage.width),this._CenterZone.scale(i,i),this._CenterZone.x=this.width/2-this._CenterZone.width/2*i},e.prototype.getFriendList=function(){var t=this;Laya.Browser.window.wx.getPotentialFriendList({success:function(e){console.log("获取朋友数据成功",e);for(var i=e.list;i.length<5;)i.push(i[Math.floor(Math.random()*i.length)]);t.setlist(e.list)},fail:function(t){console.log("获取朋友数据失败",t)},complete:function(){}})},e.prototype.setlist=function(t){null==this._list&&console.log("_list 是空的！！！！！！！！！"),this._list.array=t,this._list.refresh()},e.prototype.onListRender=function(t,e){var i=this._list.array[e],o=t.getComponent(n["default"]);o.setData(i)},e}(o.ui.View.ExportUI);i["default"]=r},{"../ui/layaMaxUI":4,"./ExportBox":5}]},{},[2]);